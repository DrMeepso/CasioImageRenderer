var be=Object.defineProperty;var ke=(t,e,n)=>e in t?be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mt=(t,e,n)=>ke(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const $t=!1;var Ie=Array.isArray,Te=Array.prototype.indexOf,Oe=Array.from,Se=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,Ce=Object.getOwnPropertyDescriptors,Ae=Object.getPrototypeOf;function De(t){return t()}function xt(t){for(var e=0;e<t.length;e++)t[e]()}const b=2,Zt=4,ct=8,Nt=16,D=32,K=64,ut=128,O=256,ot=512,E=1024,N=2048,V=4096,j=8192,X=16384,Ne=32768,Pt=65536,Pe=1<<19,Jt=1<<20,bt=Symbol("$state");function Qt(t){return t===this.v}function Fe(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Re(t){return!Fe(t,this.v)}function Me(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Le(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qe(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Be(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $e(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function je(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let G=!1,Ue=!1;function He(){G=!0}const Ve=2,Xe=Symbol();function Ye(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let d=null;function Ut(t){d=t}function te(t,e=!1,n){d={p:d,c:null,e:null,m:!1,s:t,x:null,l:null},G&&!e&&(d.l={s:null,u:null,r1:[],r2:ne(!1)})}function ee(t){const e=d;if(e!==null){const u=e.e;if(u!==null){var n=p,r=h;e.e=null;try{for(var i=0;i<u.length;i++){var l=u[i];H(l.effect),U(l.reaction),Rt(l.fn)}}finally{H(n),U(r)}}d=e.p,e.m=!0}return{}}function ne(t,e){var n={f:0,v:t,reactions:null,equals:Qt,rv:0,wv:0};return n}function ze(t,e=!1){var r;const n=ne(t);return e||(n.equals=Re),G&&d!==null&&d.l!==null&&((r=d.l).s??(r.s=[])).push(n),n}function yt(t,e=!1){return We(ze(t,e))}function We(t){return h!==null&&!A&&h.f&b&&(T===null?fn([t]):T.push(t)),t}function Ht(t,e){return R(t,ht(()=>m(t))),e}function R(t,e){return h!==null&&!A&&_t()&&h.f&(b|Nt)&&(T===null||!T.includes(t))&&je(),Ke(t,e)}function Ke(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=we(),re(t,N),_t()&&p!==null&&p.f&E&&!(p.f&(D|K))&&(C===null?cn([t]):C.push(t))),e}function re(t,e){var n=t.reactions;if(n!==null)for(var r=_t(),i=n.length,l=0;l<i;l++){var u=n[l],o=u.f;o&N||!r&&u===p||(S(u,e),o&(E|O)&&(o&b?re(u,V):dt(u)))}}var Vt,le,ie;function Ge(){if(Vt===void 0){Vt=window;var t=Element.prototype,e=Node.prototype;le=jt(e,"firstChild").get,ie=jt(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Ze(t=""){return document.createTextNode(t)}function ue(t){return le.call(t)}function oe(t){return ie.call(t)}function et(t,e){return ue(t)}function Y(t,e=1,n=!1){let r=t;for(;e--;)r=oe(r);return r}function Je(t){var e=b|N,n=h!==null&&h.f&b?h:null;return p===null||n!==null&&n.f&O?e|=O:p.f|=Jt,{ctx:d,deps:null,effects:null,equals:Qt,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??p}}function Ft(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)L(e[n])}}function Qe(t){for(var e=t.parent;e!==null;){if(!(e.f&b))return e;e=e.parent}return null}function ae(t){var e,n=p;H(Qe(t));try{Ft(t),e=ye(t)}finally{H(n)}return e}function se(t){var e=ae(t),n=(M||t.f&O)&&t.deps!==null?V:E;S(t,n),t.equals(e)||(t.v=e,t.wv=we())}function tn(t){Ft(t),W(t,0),S(t,X),t.v=t.deps=t.ctx=t.reactions=null}function fe(t){p===null&&h===null&&qe(),h!==null&&h.f&O&&p===null&&Le(),Mt&&Me()}function en(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Z(t,e,n,r=!0){var i=(t&K)!==0,l=p,u={ctx:d,deps:null,nodes_start:null,nodes_end:null,f:t|N,first:null,fn:e,last:null,next:null,parent:i?null:l,prev:null,teardown:null,transitions:null,wv:0};if(n){var o=$;try{Yt(!0),Lt(u),u.f|=Ne}catch(_){throw L(u),_}finally{Yt(o)}}else e!==null&&dt(u);var a=n&&u.deps===null&&u.first===null&&u.nodes_start===null&&u.teardown===null&&(u.f&(Jt|ut))===0;if(!a&&!i&&r&&(l!==null&&en(u,l),h!==null&&h.f&b)){var f=h;(f.effects??(f.effects=[])).push(u)}return u}function kt(t){fe();var e=p!==null&&(p.f&D)!==0&&d!==null&&!d.m;if(e){var n=d;(n.e??(n.e=[])).push({fn:t,effect:p,reaction:h})}else{var r=Rt(t);return r}}function nn(t){return fe(),ce(t)}function rn(t){const e=Z(K,t,!0);return(n={})=>new Promise(r=>{n.outro?Tt(e,()=>{L(e),r(void 0)}):(L(e),r(void 0))})}function Rt(t){return Z(Zt,t,!1)}function ce(t){return Z(ct,t,!0)}function ln(t,e=0){return Z(ct|Nt|e,t,!0)}function It(t,e=!0){return Z(ct|D,t,!0,e)}function _e(t){var e=t.teardown;if(e!==null){const n=Mt,r=h;zt(!0),U(null);try{e.call(null)}finally{zt(n),U(r)}}}function ve(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;L(n,e),n=r}}function un(t){for(var e=t.first;e!==null;){var n=e.next;e.f&D||L(e),e=n}}function L(t,e=!0){var n=!1;if((e||t.f&Pe)&&t.nodes_start!==null){for(var r=t.nodes_start,i=t.nodes_end;r!==null;){var l=r===i?null:oe(r);r.remove(),r=l}n=!0}ve(t,e&&!n),W(t,0),S(t,X);var u=t.transitions;if(u!==null)for(const a of u)a.stop();_e(t);var o=t.parent;o!==null&&o.first!==null&&de(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function de(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Tt(t,e){var n=[];he(t,n,!0),on(n,()=>{L(t),e&&e()})}function on(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function he(t,e,n){if(!(t.f&j)){if(t.f^=j,t.transitions!==null)for(const u of t.transitions)(u.is_global||n)&&e.push(u);for(var r=t.first;r!==null;){var i=r.next,l=(r.f&Pt)!==0||(r.f&D)!==0;he(r,e,l?n:!1),r=i}}}function Xt(t){pe(t,!0)}function pe(t,e){if(t.f&j){t.f^=j,t.f&E||(t.f^=E),J(t)&&(S(t,N),dt(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Pt)!==0||(n.f&D)!==0;pe(n,i?e:!1),n=r}if(t.transitions!==null)for(const l of t.transitions)(l.is_global||e)&&l.in()}}let Ot=!1,St=[];function an(){Ot=!1;const t=St.slice();St=[],xt(t)}function sn(t){Ot||(Ot=!0,queueMicrotask(an)),St.push(t)}let it=!1,at=!1,st=null,$=!1,Mt=!1;function Yt(t){$=t}function zt(t){Mt=t}let Ct=[],z=0;let h=null,A=!1;function U(t){h=t}let p=null;function H(t){p=t}let T=null;function fn(t){T=t}let y=null,x=0,C=null;function cn(t){C=t}let ge=1,ft=0,M=!1;function we(){return++ge}function _t(){return!G||d!==null&&d.l===null}function J(t){var f;var e=t.f;if(e&N)return!0;if(e&V){var n=t.deps,r=(e&O)!==0;if(n!==null){var i,l,u=(e&ot)!==0,o=r&&p!==null&&!M,a=n.length;if(u||o){for(i=0;i<a;i++)l=n[i],(u||!((f=l==null?void 0:l.reactions)!=null&&f.includes(t)))&&(l.reactions??(l.reactions=[])).push(t);u&&(t.f^=ot)}for(i=0;i<a;i++)if(l=n[i],J(l)&&se(l),l.wv>t.wv)return!0}(!r||p!==null&&!M)&&S(t,E)}return!1}function _n(t,e){for(var n=e;n!==null;){if(n.f&ut)try{n.fn(t);return}catch{n.f^=ut}n=n.parent}throw it=!1,t}function vn(t){return(t.f&X)===0&&(t.parent===null||(t.parent.f&ut)===0)}function vt(t,e,n,r){if(it){if(n===null&&(it=!1),vn(e))throw t;return}n!==null&&(it=!0);{_n(t,e);return}}function me(t,e,n=0){var r=t.reactions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];l.f&b?me(l,e,n+1):e===l&&(n===0?S(l,N):l.f&E&&S(l,V),dt(l))}}function ye(t){var v;var e=y,n=x,r=C,i=h,l=M,u=T,o=d,a=A,f=t.f;y=null,x=0,C=null,h=f&(D|K)?null:t,M=(f&O)!==0&&(!$||(i===null||a)&&t.parent!==null),T=null,Ut(t.ctx),A=!1,ft++;try{var _=(0,t.fn)(),c=t.deps;if(y!==null){var s;if(W(t,x),c!==null&&x>0)for(c.length=x+y.length,s=0;s<y.length;s++)c[x+s]=y[s];else t.deps=c=y;if(!M)for(s=x;s<c.length;s++)((v=c[s]).reactions??(v.reactions=[])).push(t)}else c!==null&&x<c.length&&(W(t,x),c.length=x);if(_t()&&C!==null&&!(t.f&(b|V|N)))for(s=0;s<C.length;s++)me(C[s],t);return i!==null&&ft++,_}finally{y=e,x=n,C=r,h=i,M=l,T=u,Ut(o),A=a}}function dn(t,e){let n=e.reactions;if(n!==null){var r=Te.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&e.f&b&&(y===null||!y.includes(e))&&(S(e,V),e.f&(O|ot)||(e.f^=ot),Ft(e),W(e,0))}function W(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)dn(t,n[r])}function Lt(t){var e=t.f;if(!(e&X)){S(t,E);var n=p,r=d;p=t;try{e&Nt?un(t):ve(t),_e(t);var i=ye(t);t.teardown=typeof i=="function"?i:null,t.wv=ge;var l=t.deps,u;$t&&Ue&&t.f&N}catch(o){vt(o,t,n,r||t.ctx)}finally{p=n}}}function hn(){if(z>1e3){z=0;try{Be()}catch(t){if(st!==null)vt(t,st,null);else throw t}}z++}function pn(t){var e=t.length;if(e!==0){hn();var n=$;$=!0;try{for(var r=0;r<e;r++){var i=t[r];i.f&E||(i.f^=E);var l=[];Ee(i,l),gn(l)}}finally{$=n}}}function gn(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];if(!(r.f&(X|j)))try{J(r)&&(Lt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?de(r):r.fn=null))}catch(i){vt(i,r,null,r.ctx)}}}function wn(){if(at=!1,z>1001)return;const t=Ct;Ct=[],pn(t),at||(z=0,st=null)}function dt(t){at||(at=!0,queueMicrotask(wn)),st=t;for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(K|D)){if(!(n&E))return;e.f^=E}}Ct.push(e)}function Ee(t,e){var n=t.first,r=[];t:for(;n!==null;){var i=n.f,l=(i&D)!==0,u=l&&(i&E)!==0,o=n.next;if(!u&&!(i&j))if(i&ct){if(l)n.f^=E;else try{J(n)&&Lt(n)}catch(c){vt(c,n,null,n.ctx)}var a=n.first;if(a!==null){n=a;continue}}else i&Zt&&r.push(n);if(o===null){let c=n.parent;for(;c!==null;){if(t===c)break t;var f=c.next;if(f!==null){n=f;continue t}c=c.parent}}n=o}for(var _=0;_<r.length;_++)a=r[_],e.push(a),Ee(a,e)}function m(t){var e=t.f,n=(e&b)!==0;if(n&&e&X){var r=ae(t);return tn(t),r}if(h!==null&&!A){T!==null&&T.includes(t)&&$e();var i=h.deps;t.rv<ft&&(t.rv=ft,y===null&&i!==null&&i[x]===t?x++:y===null?y=[t]:y.push(t))}else if(n&&t.deps===null&&t.effects===null){var l=t,u=l.parent;u!==null&&(u.f&O||(l.f^=O))}return n&&(l=t,J(l)&&se(l)),t.v}function ht(t){var e=A;try{return A=!0,t()}finally{A=e}}const mn=-7169;function S(t,e){t.f=t.f&mn|e}function yn(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(bt in t)At(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&bt in n&&At(n)}}}function At(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{At(t[r],e)}catch{}const n=Ae(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ce(n);for(let i in r){const l=r[i].get;if(l)try{l.call(t)}catch{}}}}}const En=["touchstart","touchmove"];function xn(t){return En.includes(t)}const xe=new Set,Dt=new Set;function bn(t){for(var e=0;e<t.length;e++)xe.add(t[e]);for(var n of Dt)n(t)}function nt(t){var tt;var e=this,n=e.ownerDocument,r=t.type,i=((tt=t.composedPath)==null?void 0:tt.call(t))||[],l=i[0]||t.target,u=0,o=t.__root;if(o){var a=i.indexOf(o);if(a!==-1&&(e===document||e===window)){t.__root=e;return}var f=i.indexOf(e);if(f===-1)return;a<=f&&(u=a)}if(l=i[u]||t.target,l!==e){Se(t,"currentTarget",{configurable:!0,get(){return l||n}});var _=h,c=p;U(null),H(null);try{for(var s,v=[];l!==null;){var w=l.assignedSlot||l.parentNode||l.host||null;try{var k=l["__"+r];if(k!==void 0&&!l.disabled)if(Ie(k)){var[Q,...pt]=k;Q.apply(l,[t,...pt])}else k.call(l,t)}catch(q){s?v.push(q):s=q}if(t.cancelBubble||w===e||w===null)break;l=w}if(s){for(let q of v)queueMicrotask(()=>{throw q});throw s}}finally{t.__root=e,delete t.currentTarget,U(_),H(c)}}}function kn(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function In(t,e){var n=p;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function qt(t,e){var n=(e&Ve)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=kn(i?t:"<!>"+t),r=ue(r));var l=n?document.importNode(r,!0):r.cloneNode(!0);return In(l,l),l}}function Et(t,e){t!==null&&t.before(e)}function Tn(t,e){return On(t,e)}const B=new Map;function On(t,{target:e,anchor:n,props:r={},events:i,context:l,intro:u=!0}){Ge();var o=new Set,a=c=>{for(var s=0;s<c.length;s++){var v=c[s];if(!o.has(v)){o.add(v);var w=xn(v);e.addEventListener(v,nt,{passive:w});var k=B.get(v);k===void 0?(document.addEventListener(v,nt,{passive:w}),B.set(v,1)):B.set(v,k+1)}}};a(Oe(xe)),Dt.add(a);var f=void 0,_=rn(()=>{var c=n??e.appendChild(Ze());return It(()=>{if(l){te({});var s=d;s.c=l}i&&(r.$$events=i),f=t(c,r)||{},l&&ee()}),()=>{var w;for(var s of o){e.removeEventListener(s,nt);var v=B.get(s);--v===0?(document.removeEventListener(s,nt),B.delete(s)):B.set(s,v)}Dt.delete(a),c!==n&&((w=c.parentNode)==null||w.removeChild(c))}});return Sn.set(f,_),f}let Sn=new WeakMap;function Cn(t,e,n=!1){var r=t,i=null,l=null,u=Xe,o=n?Pt:0,a=!1;const f=(c,s=!0)=>{a=!0,_(s,c)},_=(c,s)=>{u!==(u=c)&&(u?(i?Xt(i):s&&(i=It(()=>s(r))),l&&Tt(l,()=>{l=null})):(l?Xt(l):s&&(l=It(()=>s(r))),i&&Tt(i,()=>{i=null})))};ln(()=>{a=!1,e(f),a||_(null,null)},o)}function Wt(t,e){return t===e||(t==null?void 0:t[bt])===e}function Kt(t={},e,n,r){return Rt(()=>{var i,l;return ce(()=>{i=l,l=[],ht(()=>{t!==n(...l)&&(e(t,...l),i&&Wt(n(...i),t)&&e(null,...i))})}),()=>{sn(()=>{l&&Wt(n(...l),t)&&e(null,...l)})}}),t}function An(t=!1){const e=d,n=e.l.u;if(!n)return;let r=()=>yn(e.s);if(t){let i=0,l={};const u=Je(()=>{let o=!1;const a=e.s;for(const f in a)a[f]!==l[f]&&(l[f]=a[f],o=!0);return o&&i++,i});r=()=>m(u)}n.b.length&&nn(()=>{Gt(e,r),xt(n.b)}),kt(()=>{const i=ht(()=>n.m.map(De));return()=>{for(const l of i)typeof l=="function"&&l()}}),n.a.length&&kt(()=>{Gt(e,r),xt(n.a)})}function Gt(t,e){if(t.l.s)for(const n of t.l.s)m(n);e()}function Dn(t){d===null&&Ye(),G&&d.l!==null?Nn(d).m.push(t):kt(()=>{const e=ht(t);if(typeof e=="function")return e})}function Nn(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Pn="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pn);He();class rt{constructor(e,n){mt(this,"x");mt(this,"y");this.x=e,this.y=n}}function lt(t,e,n,r){let i=[];r=Math.pow((r+100)/100,2),n=n*2.55;let u=t.getContext("2d").getImageData(0,0,t.width,t.height);for(let o=0;o<u.data.length;o+=4){let a=u.data[o],f=u.data[o+1],_=u.data[o+2];a=a*r+n,f=f*r+n,_=_*r+n,a=Math.min(255,Math.max(0,a)),f=Math.min(255,Math.max(0,f)),_=Math.min(255,Math.max(0,_));let c=a*.3+f*.59+_*.11;u.data[o+3]===0&&(c=255),i.push(c)}for(let o=0;o<u.data.length;o+=1){let a=i[o],f=a>128?255:0,_=a-f;i[o]=f;let c=[new rt(1,0),new rt(-1,1),new rt(0,1),new rt(1,1)];for(let s=0;s<c.length;s++){let v=c[s],w=o+(v.y*t.width+v.x);w<0||w>t.width*t.height||(i[w]+=_*(2/16))}}i=i.slice(0,t.width*t.height),e.fillStyle="rgb(255, 255, 255)",e.fillRect(0,0,t.width,t.height);for(let o=0;o<i.length;o++){let a=o%t.width,f=Math.floor(o/t.width);e.fillStyle=`rgb(${i[o]}, ${i[o]}, ${i[o]})`,e.fillRect(a,f,1,1)}return i}const Fn=`ClrGraph
ViewWindow 1,127,1,63
AxesOff
GridOff`,Rn=function(t,e,n){return`For ${t+1}->X To ${e+1}
PxlOn ${n+1},X
Next`};function Mn(t,e){let n=[];for(let u=0;u<t.length;u++)t[u]===0&&n.push({x:u%e.width,y:Math.floor(u/e.width)});let r=[],i=[];for(let u=0;u<n.length;u++){if(i.find(s=>s.x===n[u].x&&s.y===n[u].y))continue;let o=n[u].x,a=n[u].y,f=o,_=o,c=!1;for(;!c;){let s=n.find(v=>v.x===o&&v.y===a);s?(i.push(s),_=o):c=!0,o++}r.push({startX:f,endX:_,y:a,length:_-f})}let l=Fn+`
`;for(let u=0;u<r.length;u++){let o=r[u];if(o.length>2)l+=Rn(o.startX,o.endX,o.y)+`
`;else for(let a=o.startX;a<=o.endX;a++)l+=`PxlOn ${o.y+1},${a+1}
`}return l}var Ln=qt("<button>Save</button>"),qn=qt("<button disabled>Save</button>"),Bn=qt('<main><div id="contentHolder" class="svelte-136b7z7"><h2>Casio Calculator Image Util</h2> <div id="canvasHolder" class="svelte-136b7z7"><canvas id="PreviewCanvas" class="svelte-136b7z7"></canvas> <div id="controllHolder" class="svelte-136b7z7"><input type="range" min="-100" max="100" step="1" value="0" id="contrast"> <label for="contrast">Contrast</label> <input type="range" min="-50" max="50" step="1" value="0" id="brightness"> <label for="brightness">Brightness</label></div> <canvas id="AlwaysCanvas" class="svelte-136b7z7"></canvas></div> <div style="justify-content: center; display: flex; flex-direction: column; gap: 5px;"><br> <input type="file" accept="image/*"> <button>Calculate</button> <!></div></div></main>');function $n(t,e){te(e,!1);let n=yt(),r=yt(),i,l=new OffscreenCanvas(126,62),u={width:126,height:62},o=yt("");Dn(()=>{if(Ht(n,m(n).width=u.width),Ht(n,m(n).height=u.height),i=m(n).getContext("2d"),m(r)==null){console.error("filePicker is null!");return}if(m(n)==null){console.error("canvas is null!");return}m(r).addEventListener("change",P=>{const F=m(r).files[0];F.name;const gt=new FileReader;gt.onload=jn=>{const wt=new Image;wt.onload=()=>{let Bt=l.getContext("2d");Bt.clearRect(0,0,u.width,u.height),Bt.drawImage(wt,0,0,u.width,u.height),i.clearRect(0,0,u.width,u.height),lt(l,i,0,0),R(o,"")},wt.src=gt.result},gt.readAsDataURL(F)});let g=document.getElementById("contrast"),I=document.getElementById("brightness");g.addEventListener("input",P=>{lt(l,i,parseInt(g.value),parseInt(I.value)),R(o,"")}),I.addEventListener("input",P=>{lt(l,i,parseInt(g.value),parseInt(I.value)),R(o,"")}),setInterval(()=>{let P=document.getElementById("AlwaysCanvas");P.width=u.width,P.height=u.height;let F=P.getContext("2d");F.clearRect(0,0,u.width,u.height),F.drawImage(l,0,0,u.width,u.height)},1e3)});function a(){let g=document.getElementById("contrast"),I=document.getElementById("brightness"),P=lt(l,i,parseInt(g.value),parseInt(I.value)),F=Mn(P,u);R(o,F)}function f(){let g=document.createElement("a");g.href="data:text/plain;charset=utf-8,"+encodeURIComponent(m(o)),g.download=`${prompt("What should the file be called?").slice(0,7)}.txt`,g.click()}An();var _=Bn(),c=et(_),s=Y(et(c),2),v=et(s);Kt(v,g=>R(n,g),()=>m(n));var w=Y(s,2),k=Y(et(w),2);Kt(k,g=>R(r,g),()=>m(r));var Q=Y(k,2);Q.__click=a;var pt=Y(Q,2);{var tt=g=>{var I=Ln();I.__click=f,Et(g,I)},q=g=>{var I=qn();Et(g,I)};Cn(pt,g=>{m(o)!=""?g(tt):g(q,!1)})}Et(t,_),ee()}bn(["click"]);Tn($n,{target:document.getElementById("app")});
